{% extends 'base.html.twig' %}
 
{% block title %}{{ 'panier'|trans }}{% endblock %}
 
{% block body %}
    {% if not is_granted('ROLE_USER') %}
        <p>{{ 'error.connexion_required'|trans }}</p>
    {% endif %}

    <h1>{{ 'panier'|trans }}</h1>
    {% if not found %}
        <p>{{message}}</p>
    {% else %}
            <ul>
        {% for produit in produits %}
            <li>
                <p>{{ produit.nom }}</p>
                <p>{{ produit.prix }}</p>
                <p>{{ produit.quantite }}</p>
                <p>{{produit.prix * produit.quantite}}</p>
                <a href="{{ path('app_supprimer_panier', {'id': produit.id}) }}">{{ 'supprimer'|trans }}</a>
            </li>
        {% endfor %}
            </ul>
        
        <p>Total : {{ prixTotal }}</p>
        <a href="{{ path('app_payer_panier')}}">{{ 'acheter'|trans }}</a>
    {% endif %}
    
{% endblock %}